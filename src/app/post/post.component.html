<div class="content-container">
    <div class="content">
        <div class="btn-group my-1 w-25" *ngIf="canEdit">
            <a [routerLink]="['/editor', selectedId]" class="btn edit-btn" role="button">Edit</a>
            <button (click)="showModal(selectedId)" class="btn btn-danger">Delete</button>
        </div>
        <div class="content-bg">
            <span *ngIf="!(post | async)?.published" class="text-warning"> (unpublished)</span>
            <h1>{{ (post | async)?.title }}</h1>
            <div class="post-info">
                <div>
                    <span class="fas fa-calendar mr-1"></span>
                    <span *ngIf="(post | async)?.date">{{ (post | async)?.date.toDate() | date: "mediumDate" }}</span>
                    <span *ngIf="!(post | async)?.date">Date not found</span>
                </div>
                <span class="badge" *ngFor="let category of (post | async)?.categories | keyvalue">{{ category.value }}</span>
            </div>
            <div class="mt-4" [innerHTML]=" ((post | async)?.body) | markdown"></div>
        </div>
    </div>
</div>

<modal (post.delete)="onDelete($event)"></modal>
